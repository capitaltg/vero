import{j as n}from"./jsx-runtime-BO8uF4Og.js";import{L as A}from"./Label-Yaiz0i84.js";import{s as P}from"./styles-B6VxF8L0.js";import{c as j}from"./utils-CytzSlOG.js";import{r as c}from"./index-D4H_InIO.js";import{u as I}from"./index-D8GmRN1t.js";import{u as L,c as V,a as N}from"./index-DwviEg3j.js";import{u as H}from"./index-DXU_LAI1.js";import{u as K}from"./index-C6Lf2F3X.js";import{P as z}from"./index-CIFsUU6l.js";import{P as w}from"./index-C1hSi-0V.js";import{C as F}from"./check-CT0OM3mY.js";var v="Checkbox",[U,ie]=V(v),[X,W]=U(v),_=c.forwardRef((t,o)=>{const{__scopeCheckbox:e,name:i,checked:u,defaultChecked:r,required:f,disabled:d,value:b="on",onCheckedChange:x,form:C,...y}=t,[s,E]=c.useState(null),g=I(o,a=>E(a)),p=c.useRef(!1),k=s?C||!!s.closest("form"):!0,[m,R]=L({prop:u,defaultProp:r??!1,onChange:x,caller:v}),O=c.useRef(m);return c.useEffect(()=>{const a=s==null?void 0:s.form;if(a){const h=()=>R(O.current);return a.addEventListener("reset",h),()=>a.removeEventListener("reset",h)}},[s,R]),n.jsxs(X,{scope:e,state:m,disabled:d,children:[n.jsx(w.button,{type:"button",role:"checkbox","aria-checked":l(m)?"mixed":m,"aria-required":f,"data-state":T(m),"data-disabled":d?"":void 0,disabled:d,value:b,...y,ref:g,onKeyDown:N(t.onKeyDown,a=>{a.key==="Enter"&&a.preventDefault()}),onClick:N(t.onClick,a=>{R(h=>l(h)?!0:!h),k&&(p.current=a.isPropagationStopped(),p.current||a.stopPropagation())})}),k&&n.jsx(D,{control:s,bubbles:!p.current,name:i,value:b,checked:m,required:f,disabled:d,form:C,style:{transform:"translateX(-100%)"},defaultChecked:l(r)?!1:r})]})});_.displayName=v;var S="CheckboxIndicator",B=c.forwardRef((t,o)=>{const{__scopeCheckbox:e,forceMount:i,...u}=t,r=W(S,e);return n.jsx(z,{present:i||l(r.state)||r.state===!0,children:n.jsx(w.span,{"data-state":T(r.state),"data-disabled":r.disabled?"":void 0,...u,ref:o,style:{pointerEvents:"none",...t.style}})})});B.displayName=S;var $="CheckboxBubbleInput",D=c.forwardRef(({__scopeCheckbox:t,control:o,checked:e,bubbles:i=!0,defaultChecked:u,...r},f)=>{const d=c.useRef(null),b=I(d,f),x=H(e),C=K(o);c.useEffect(()=>{const s=d.current;if(!s)return;const E=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(E,"checked").set;if(x!==e&&p){const k=new Event("click",{bubbles:i});s.indeterminate=l(e),p.call(s,l(e)?!1:e),s.dispatchEvent(k)}},[x,e,i]);const y=c.useRef(l(e)?!1:e);return n.jsx(w.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??y.current,...r,tabIndex:-1,ref:b,style:{...r.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});D.displayName=$;function l(t){return t==="indeterminate"}function T(t){return l(t)?"indeterminate":t?"checked":"unchecked"}var q=_,G=B;const M=c.forwardRef(({className:t,label:o,id:e,"aria-label":i,isChecked:u=!1,isDisabled:r=!1,...f},d)=>{if(!o&&!i)throw new Error("Checkbox must have either a label prop or an aria-label attribute");if(o&&i)throw new Error("Checkbox must have either a label prop or an aria-label attribute, but not both");return n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(q,{ref:d,id:e,className:j(P.focusRingVisible,P.focusRingVisibleSm,"peer h-5 w-5 shrink-0 rounded-sm border-2 border-gray-500 ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:border-primary-400 data-[state=checked]:bg-primary-400 data-[state=checked]:text-white",t),checked:u,disabled:r,"aria-label":i,...f,children:n.jsx(G,{className:j("flex items-center justify-center text-current"),children:n.jsx(F,{className:"h-4 w-4",strokeWidth:3})})}),o?typeof o=="string"?n.jsx(A,{htmlFor:e,children:o}):o:null]})});M.displayName=q.displayName;M.__docgenInfo={description:"",methods:[],props:{label:{required:!1,tsType:{name:"ReactNode"},description:""},isChecked:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isDisabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["Omit"]};export{M as C};
