import{j as c}from"./jsx-runtime-BO8uF4Og.js";import{s as q}from"./styles-B6VxF8L0.js";import{c as G}from"./utils-CytzSlOG.js";import{r as p}from"./index-D4H_InIO.js";import{u as H,c as V,a as P}from"./index-DwviEg3j.js";import{u as A}from"./index-D8GmRN1t.js";import{P as K,h as W,R as U,u as Z,F as z,D as B}from"./index-DXGtwV5R.js";import{u as J}from"./index-DsCZslo7.js";import{c as O,R as Q,A as _,a as X,C as Y}from"./index-CHmAJ0Sv.js";import{P as w}from"./index-CIFsUU6l.js";import{P as j}from"./index-C1hSi-0V.js";import{c as ee}from"./index-CZyo9ktw.js";var C="Popover",[E,Ee]=V(C,[O]),m=O(),[oe,d]=E(C),N=e=>{const{__scopePopover:n,children:t,open:s,defaultOpen:o,onOpenChange:r,modal:a=!1}=e,i=m(n),l=p.useRef(null),[u,h]=p.useState(!1),[g,f]=H({prop:s,defaultProp:o??!1,onChange:r,caller:C});return c.jsx(Q,{...i,children:c.jsx(oe,{scope:n,contentId:J(),triggerRef:l,open:g,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(x=>!x),[f]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>h(!0),[]),onCustomAnchorRemove:p.useCallback(()=>h(!1),[]),modal:a,children:t})})};N.displayName=C;var b="PopoverAnchor",re=p.forwardRef((e,n)=>{const{__scopePopover:t,...s}=e,o=d(b,t),r=m(t),{onCustomAnchorAdd:a,onCustomAnchorRemove:i}=o;return p.useEffect(()=>(a(),()=>i()),[a,i]),c.jsx(_,{...r,...s,ref:n})});re.displayName=b;var y="PopoverTrigger",F=p.forwardRef((e,n)=>{const{__scopePopover:t,...s}=e,o=d(y,t),r=m(t),a=A(n,o.triggerRef),i=c.jsx(j.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":I(o.open),...s,ref:a,onClick:P(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?i:c.jsx(_,{asChild:!0,...r,children:i})});F.displayName=y;var R="PopoverPortal",[te,ne]=E(R,{forceMount:void 0}),S=e=>{const{__scopePopover:n,forceMount:t,children:s,container:o}=e,r=d(R,n);return c.jsx(te,{scope:n,forceMount:t,children:c.jsx(w,{present:t||r.open,children:c.jsx(K,{asChild:!0,container:o,children:s})})})};S.displayName=R;var v="PopoverContent",D=p.forwardRef((e,n)=>{const t=ne(v,e.__scopePopover),{forceMount:s=t.forceMount,...o}=e,r=d(v,e.__scopePopover);return c.jsx(w,{present:s||r.open,children:r.modal?c.jsx(ae,{...o,ref:n}):c.jsx(ce,{...o,ref:n})})});D.displayName=v;var se=ee("PopoverContent.RemoveScroll"),ae=p.forwardRef((e,n)=>{const t=d(v,e.__scopePopover),s=p.useRef(null),o=A(n,s),r=p.useRef(!1);return p.useEffect(()=>{const a=s.current;if(a)return W(a)},[]),c.jsx(U,{as:se,allowPinchZoom:!0,children:c.jsx(k,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:P(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),r.current||(i=t.triggerRef.current)==null||i.focus()}),onPointerDownOutside:P(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0,u=i.button===2||l;r.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:P(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),ce=p.forwardRef((e,n)=>{const t=d(v,e.__scopePopover),s=p.useRef(!1),o=p.useRef(!1);return c.jsx(k,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var a,i;(a=e.onCloseAutoFocus)==null||a.call(e,r),r.defaultPrevented||(s.current||(i=t.triggerRef.current)==null||i.focus(),r.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:r=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,r),r.defaultPrevented||(s.current=!0,r.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=r.target;((u=t.triggerRef.current)==null?void 0:u.contains(a))&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&o.current&&r.preventDefault()}})}),k=p.forwardRef((e,n)=>{const{__scopePopover:t,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:r,disableOutsidePointerEvents:a,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:h,...g}=e,f=d(v,t),x=m(t);return Z(),c.jsx(z,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:r,children:c.jsx(B,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:h,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:c.jsx(Y,{"data-state":I(f.open),role:"dialog",id:f.contentId,...x,...g,ref:n,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),M="PopoverClose",ie=p.forwardRef((e,n)=>{const{__scopePopover:t,...s}=e,o=d(M,t);return c.jsx(j.button,{type:"button",...s,ref:n,onClick:P(e.onClick,()=>o.onOpenChange(!1))})});ie.displayName=M;var pe="PopoverArrow",T=p.forwardRef((e,n)=>{const{__scopePopover:t,...s}=e,o=m(t);return c.jsx(X,{...o,...s,ref:n})});T.displayName=pe;function I(e){return e?"open":"closed"}var le=N,ue=F,de=S,$=D,fe=T;const Ne=le,be=ue,ve=fe,L=p.forwardRef(({className:e,align:n="center",sideOffset:t=4,hasArrow:s,children:o,...r},a)=>c.jsx(de,{children:c.jsxs($,{ref:a,align:n,sideOffset:t,className:G(q.popover,e),...r,children:[o,s?c.jsx(ve,{className:"fill-popover stroke-muted stroke-[1px]",width:15,height:7}):null]})}));L.displayName=$.displayName;L.__docgenInfo={description:"",methods:[],props:{hasArrow:{required:!1,tsType:{name:"boolean"},description:""},align:{defaultValue:{value:"'center'",computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}},composes:["ComponentPropsWithoutRef"]};export{Ne as P,be as a,L as b};
