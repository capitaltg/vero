import{j as r}from"./jsx-runtime-BO8uF4Og.js";import{u as q}from"./useAriaDisabled-DHTVgRPt.js";import{s as p}from"./styles-Bqt2ynIu.js";import{a as d}from"./utils-CU3My8Oi.js";import{g as P}from"./z-index-CmEG1ohp.js";import{R as D,r as I}from"./index-D4H_InIO.js";import{b as E}from"./constants-C4w3S9le.js";import{C as M,a as R,b as O,c as V,d as A}from"./CommandItem-CiFaxsn-.js";import{C as _,a as K}from"./CommandList-DmlIjmFM.js";import{P as z,a as L,b as W}from"./Popover-OaSsjRLr.js";import{C as Z}from"./check-CT0OM3mY.js";import{X as G}from"./x-B9-lGSIk.js";const u=D.forwardRef(({options:c,value:s,onChange:o,placeholder:f="Select items...",searchPlaceholder:x="Search items...",emptyMessage:y="No items found",className:h,listClassName:g,zIndex:j,isDisabled:l=!1,...b},w)=>{const[n,i]=I.useState(!1),N=P("dropdown",j),v=s.map(e=>{var a;return((a=c.find(t=>t.value===e))==null?void 0:a.label)||e}),C=q({isDisabled:l}),T=()=>s.length===0?r.jsx("span",{className:"self-center text-muted-foreground",children:f}):r.jsx("div",{className:"flex flex-1 flex-wrap gap-1",children:v.map((e,a)=>r.jsxs("div",{className:`flex items-center gap-1 rounded-sm bg-secondary px-2 py-0.5 text-sm
                text-secondary-foreground`,children:[e,r.jsx("button",{"aria-label":`Remove ${e}`,className:`ml-0.5 rounded-full opacity-50 transition-opacity hover:opacity-100
                  focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-primary-400
                  focus:ring-offset-1`,type:"button",onClick:t=>{t.stopPropagation(),o(s.filter((S,m)=>m!==a))},onKeyDown:t=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),t.stopPropagation(),o(s.filter((S,m)=>m!==a)))},children:r.jsx(G,{className:"h-3 w-3",strokeWidth:3})})]},s[a]))}),k=e=>{if(l){if(e.key==="Tab"||e.key==="Escape")return;e.preventDefault(),e.stopPropagation();return}e.key==="Enter"||e.key===" "?(e.preventDefault(),i(!n)):e.key==="Escape"&&n&&(e.preventDefault(),i(!1))};return r.jsxs(z,{open:n,onOpenChange:i,children:[r.jsx(L,{asChild:!0,children:r.jsxs("div",{ref:w,"aria-expanded":n,"aria-haspopup":"listbox",className:d(p.button,E({variant:"input"}),p.focusRing,"flex h-auto min-h-[2.5rem] w-full items-stretch justify-between px-3 py-1.5",h),role:"button",tabIndex:0,onClick:e=>{e.stopPropagation(),l||i(!n)},onKeyDown:k,...C,...b,children:[r.jsx("div",{className:"flex flex-1 text-left",children:T()}),r.jsx(_,{className:"ml-2 h-4 w-4 shrink-0 self-center opacity-50"})]})}),r.jsx(W,{align:"start",className:"w-[--radix-popover-trigger-width] px-0 py-0",zIndex:N,children:r.jsxs(M,{children:[r.jsx(R,{placeholder:x}),r.jsxs(K,{className:d("max-h-[16.5rem] overflow-y-auto",g),children:[r.jsx(O,{children:y}),r.jsx(V,{children:c.map(e=>r.jsx(A,{value:e.value,onSelect:()=>{o(s.includes(e.value)?s.filter(a=>a!==e.value):[...s,e.value])},children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:d(`mr-2 flex h-4 w-4 items-center justify-center rounded-sm border
                          border-primary-400`,s.includes(e.value)?"bg-primary-400 text-white":"opacity-50"),children:s.includes(e.value)?r.jsx(Z,{className:"h-3 w-3",strokeWidth:3}):null}),e.label]})},e.value))})]})]})})]})});u.displayName="MultiSelect";u.__docgenInfo={description:"",methods:[],displayName:"MultiSelect",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"MultiSelectOption"}],raw:"MultiSelectOption[]"},description:""},value:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"value"}],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Select items...'",computed:!1}},searchPlaceholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Search items...'",computed:!1}},emptyMessage:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'No items found'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},listClassName:{required:!1,tsType:{name:"string"},description:""},zIndex:{required:!1,tsType:{name:"number"},description:""},isDisabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["Omit"]};export{u as M};
