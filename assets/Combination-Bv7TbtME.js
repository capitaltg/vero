import{r as o}from"./index-D4H_InIO.js";import{b as W,u as ue}from"./index-DB-GfMvg.js";import{P as M,d as le}from"./index-CNI2vRWb.js";import{u as j}from"./index-BekKX9Q6.js";import{u as D}from"./index-DAnQV6hb.js";import{j as I}from"./jsx-runtime-BO8uF4Og.js";import{h as de}from"./index-bUn38NNn.js";import{c as fe,_ as ve,u as me,a as O,z as he,f as Ee,s as be,b as ye,R as pe,e as ge}from"./index-BRrdJNcL.js";function Ce(e,t=globalThis==null?void 0:globalThis.document){const r=D(e);o.useEffect(()=>{const n=c=>{c.key==="Escape"&&r(c)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Se="DismissableLayer",X="dismissableLayer.update",we="dismissableLayer.pointerDownOutside",Pe="dismissableLayer.focusOutside",z,re=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Le=o.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:c,onFocusOutside:i,onInteractOutside:f,onDismiss:s,...g}=e,l=o.useContext(re),[v,S]=o.useState(null),C=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=o.useState({}),w=j(t,m=>S(m)),a=Array.from(l.layers),[u]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),d=a.indexOf(u),y=v?a.indexOf(v):-1,h=l.layersWithOutsidePointerEventsDisabled.size>0,E=y>=d,b=Fe(m=>{const L=m.target,N=[...l.branches].some(B=>B.contains(L));!E||N||(c==null||c(m),f==null||f(m),m.defaultPrevented||s==null||s())},C),P=Oe(m=>{const L=m.target;[...l.branches].some(B=>B.contains(L))||(i==null||i(m),f==null||f(m),m.defaultPrevented||s==null||s())},C);return Ce(m=>{y===l.layers.size-1&&(n==null||n(m),!m.defaultPrevented&&s&&(m.preventDefault(),s()))},C),o.useEffect(()=>{if(v)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(z=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(v)),l.layers.add(v),V(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(C.body.style.pointerEvents=z)}},[v,C,r,l]),o.useEffect(()=>()=>{v&&(l.layers.delete(v),l.layersWithOutsidePointerEventsDisabled.delete(v),V())},[v,l]),o.useEffect(()=>{const m=()=>p({});return document.addEventListener(X,m),()=>document.removeEventListener(X,m)},[]),I.jsx(M.div,{...g,ref:w,style:{pointerEvents:h?E?"auto":"none":void 0,...e.style},onFocusCapture:W(e.onFocusCapture,P.onFocusCapture),onBlurCapture:W(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:W(e.onPointerDownCapture,b.onPointerDownCapture)})});Le.displayName=Se;var Re="DismissableLayerBranch",Te=o.forwardRef((e,t)=>{const r=o.useContext(re),n=o.useRef(null),c=j(t,n);return o.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),I.jsx(M.div,{...e,ref:c})});Te.displayName=Re;function Fe(e,t=globalThis==null?void 0:globalThis.document){const r=D(e),n=o.useRef(!1),c=o.useRef(()=>{});return o.useEffect(()=>{const i=s=>{if(s.target&&!n.current){let g=function(){ne(we,r,l,{discrete:!0})};const l={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=g,t.addEventListener("click",c.current,{once:!0})):g()}else t.removeEventListener("click",c.current);n.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",i),t.removeEventListener("click",c.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Oe(e,t=globalThis==null?void 0:globalThis.document){const r=D(e),n=o.useRef(!1);return o.useEffect(()=>{const c=i=>{i.target&&!n.current&&ne(Pe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function V(){const e=new CustomEvent(X);document.dispatchEvent(e)}function ne(e,t,r,{discrete:n}){const c=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),n?le(c,i):c.dispatchEvent(i)}var _="focusScope.autoFocusOnMount",U="focusScope.autoFocusOnUnmount",Z={bubbles:!1,cancelable:!0},Ne="FocusScope",De=o.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:c,onUnmountAutoFocus:i,...f}=e,[s,g]=o.useState(null),l=D(c),v=D(i),S=o.useRef(null),C=j(t,a=>g(a)),p=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(n){let a=function(h){if(p.paused||!s)return;const E=h.target;s.contains(E)?S.current=E:R(S.current,{select:!0})},u=function(h){if(p.paused||!s)return;const E=h.relatedTarget;E!==null&&(s.contains(E)||R(S.current,{select:!0}))},d=function(h){if(document.activeElement===document.body)for(const b of h)b.removedNodes.length>0&&R(s)};document.addEventListener("focusin",a),document.addEventListener("focusout",u);const y=new MutationObserver(d);return s&&y.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",a),document.removeEventListener("focusout",u),y.disconnect()}}},[n,s,p.paused]),o.useEffect(()=>{if(s){q.add(p);const a=document.activeElement;if(!s.contains(a)){const d=new CustomEvent(_,Z);s.addEventListener(_,l),s.dispatchEvent(d),d.defaultPrevented||(ke(Be(ae(s)),{select:!0}),document.activeElement===a&&R(s))}return()=>{s.removeEventListener(_,l),setTimeout(()=>{const d=new CustomEvent(U,Z);s.addEventListener(U,v),s.dispatchEvent(d),d.defaultPrevented||R(a??document.body,{select:!0}),s.removeEventListener(U,v),q.remove(p)},0)}}},[s,l,v,p]);const w=o.useCallback(a=>{if(!r&&!n||p.paused)return;const u=a.key==="Tab"&&!a.altKey&&!a.ctrlKey&&!a.metaKey,d=document.activeElement;if(u&&d){const y=a.currentTarget,[h,E]=Ae(y);h&&E?!a.shiftKey&&d===E?(a.preventDefault(),r&&R(h,{select:!0})):a.shiftKey&&d===h&&(a.preventDefault(),r&&R(E,{select:!0})):d===y&&a.preventDefault()}},[r,n,p.paused]);return I.jsx(M.div,{tabIndex:-1,...f,ref:C,onKeyDown:w})});De.displayName=Ne;function ke(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(R(n,{select:t}),document.activeElement!==r)return}function Ae(e){const t=ae(e),r=G(t,e),n=G(t.reverse(),e);return[r,n]}function ae(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const c=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||c?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function G(e,t){for(const r of e)if(!Me(r,{upTo:t}))return r}function Me(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ie(e){return e instanceof HTMLInputElement&&"select"in e}function R(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ie(e)&&t&&e.select()}}var q=xe();function xe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Q(e,t),e.unshift(t)},remove(t){var r;e=Q(e,t),(r=e[0])==null||r.resume()}}}function Q(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Be(e){return e.filter(t=>t.tagName!=="A")}var We="Portal",_e=o.forwardRef((e,t)=>{var s;const{container:r,...n}=e,[c,i]=o.useState(!1);ue(()=>i(!0),[]);const f=r||c&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return f?de.createPortal(I.jsx(M.div,{...n,ref:t}),f):null});_e.displayName=We;var H=0;function it(){o.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??J()),document.body.insertAdjacentElement("beforeend",e[1]??J()),H++,()=>{H===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),H--}},[])}function J(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var oe=fe(),K=function(){},x=o.forwardRef(function(e,t){var r=o.useRef(null),n=o.useState({onScrollCapture:K,onWheelCapture:K,onTouchMoveCapture:K}),c=n[0],i=n[1],f=e.forwardProps,s=e.children,g=e.className,l=e.removeScrollBar,v=e.enabled,S=e.shards,C=e.sideCar,p=e.noIsolation,w=e.inert,a=e.allowPinchZoom,u=e.as,d=u===void 0?"div":u,y=e.gapMode,h=ve(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=C,b=me([r,t]),P=O(O({},h),c);return o.createElement(o.Fragment,null,v&&o.createElement(E,{sideCar:oe,removeScrollBar:l,shards:S,noIsolation:p,inert:w,setCallbacks:i,allowPinchZoom:!!a,lockRef:r,gapMode:y}),f?o.cloneElement(o.Children.only(s),O(O({},P),{ref:b})):o.createElement(d,O({},P,{className:g,ref:b}),s))});x.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};x.classNames={fullWidth:Ee,zeroRight:he};var Y=!1;if(typeof window<"u")try{var k=Object.defineProperty({},"passive",{get:function(){return Y=!0,!0}});window.addEventListener("test",k,k),window.removeEventListener("test",k,k)}catch{Y=!1}var T=Y?{passive:!1}:!1,Ue=function(e){return e.tagName==="TEXTAREA"},se=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ue(e)&&r[t]==="visible")},He=function(e){return se(e,"overflowY")},Ke=function(e){return se(e,"overflowX")},$=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var c=ce(e,n);if(c){var i=ie(e,n),f=i[1],s=i[2];if(f>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Xe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Ye=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},ce=function(e,t){return e==="v"?He(t):Ke(t)},ie=function(e,t){return e==="v"?Xe(t):Ye(t)},je=function(e,t){return e==="h"&&t==="rtl"?-1:1},ze=function(e,t,r,n,c){var i=je(e,window.getComputedStyle(t).direction),f=i*n,s=r.target,g=t.contains(s),l=!1,v=f>0,S=0,C=0;do{var p=ie(e,s),w=p[0],a=p[1],u=p[2],d=a-u-i*w;(w||d)&&ce(e,s)&&(S+=d,C+=w),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!g&&s!==document.body||g&&(t.contains(s)||t===s));return(v&&Math.abs(S)<1||!v&&Math.abs(C)<1)&&(l=!0),l},A=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ee=function(e){return[e.deltaX,e.deltaY]},te=function(e){return e&&"current"in e?e.current:e},Ve=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ze=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ge=0,F=[];function qe(e){var t=o.useRef([]),r=o.useRef([0,0]),n=o.useRef(),c=o.useState(Ge++)[0],i=o.useState(be)[0],f=o.useRef(e);o.useEffect(function(){f.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var a=ye([e.lockRef.current],(e.shards||[]).map(te),!0).filter(Boolean);return a.forEach(function(u){return u.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),a.forEach(function(u){return u.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var s=o.useCallback(function(a,u){if("touches"in a&&a.touches.length===2||a.type==="wheel"&&a.ctrlKey)return!f.current.allowPinchZoom;var d=A(a),y=r.current,h="deltaX"in a?a.deltaX:y[0]-d[0],E="deltaY"in a?a.deltaY:y[1]-d[1],b,P=a.target,m=Math.abs(h)>Math.abs(E)?"h":"v";if("touches"in a&&m==="h"&&P.type==="range")return!1;var L=$(m,P);if(!L)return!0;if(L?b=m:(b=m==="v"?"h":"v",L=$(m,P)),!L)return!1;if(!n.current&&"changedTouches"in a&&(h||E)&&(n.current=b),!b)return!0;var N=n.current||b;return ze(N,u,a,N==="h"?h:E)},[]),g=o.useCallback(function(a){var u=a;if(!(!F.length||F[F.length-1]!==i)){var d="deltaY"in u?ee(u):A(u),y=t.current.filter(function(b){return b.name===u.type&&(b.target===u.target||u.target===b.shadowParent)&&Ve(b.delta,d)})[0];if(y&&y.should){u.cancelable&&u.preventDefault();return}if(!y){var h=(f.current.shards||[]).map(te).filter(Boolean).filter(function(b){return b.contains(u.target)}),E=h.length>0?s(u,h[0]):!f.current.noIsolation;E&&u.cancelable&&u.preventDefault()}}},[]),l=o.useCallback(function(a,u,d,y){var h={name:a,delta:u,target:d,should:y,shadowParent:Qe(d)};t.current.push(h),setTimeout(function(){t.current=t.current.filter(function(E){return E!==h})},1)},[]),v=o.useCallback(function(a){r.current=A(a),n.current=void 0},[]),S=o.useCallback(function(a){l(a.type,ee(a),a.target,s(a,e.lockRef.current))},[]),C=o.useCallback(function(a){l(a.type,A(a),a.target,s(a,e.lockRef.current))},[]);o.useEffect(function(){return F.push(i),e.setCallbacks({onScrollCapture:S,onWheelCapture:S,onTouchMoveCapture:C}),document.addEventListener("wheel",g,T),document.addEventListener("touchmove",g,T),document.addEventListener("touchstart",v,T),function(){F=F.filter(function(a){return a!==i}),document.removeEventListener("wheel",g,T),document.removeEventListener("touchmove",g,T),document.removeEventListener("touchstart",v,T)}},[]);var p=e.removeScrollBar,w=e.inert;return o.createElement(o.Fragment,null,w?o.createElement(i,{styles:Ze(c)}):null,p?o.createElement(pe,{gapMode:e.gapMode}):null)}function Qe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Je=ge(oe,qe);var $e=o.forwardRef(function(e,t){return o.createElement(x,O({},e,{ref:t,sideCar:Je}))});$e.classNames=x.classNames;export{Le as D,De as F,_e as P,$e as R,it as u};
