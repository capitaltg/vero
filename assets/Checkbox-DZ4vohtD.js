import{j as n}from"./jsx-runtime-BO8uF4Og.js";import{L as O}from"./Label-CjB5ZDVY.js";import{u as L}from"./useAriaDisabled-DHTVgRPt.js";import{s as g}from"./styles-hHSuIYOZ.js";import{c as j}from"./utils-l21BANrb.js";import{r as c}from"./index-D4H_InIO.js";import{u as I}from"./index-D8GmRN1t.js";import{u as V,c as H,a as N}from"./index-DwviEg3j.js";import{u as K}from"./index-DXU_LAI1.js";import{u as z}from"./index-C6Lf2F3X.js";import{P as F}from"./index-CIFsUU6l.js";import{P as w}from"./index-C1hSi-0V.js";import{C as U}from"./check-CT0OM3mY.js";var v="Checkbox",[X,le]=H(v),[W,$]=X(v),_=c.forwardRef((t,o)=>{const{__scopeCheckbox:e,name:i,checked:u,defaultChecked:r,required:f,disabled:d,value:p="on",onCheckedChange:x,form:C,...y}=t,[s,E]=c.useState(null),P=I(o,a=>E(a)),m=c.useRef(!1),k=s?C||!!s.closest("form"):!0,[h,R]=V({prop:u,defaultProp:r??!1,onChange:x,caller:v}),M=c.useRef(h);return c.useEffect(()=>{const a=s==null?void 0:s.form;if(a){const b=()=>R(M.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[s,R]),n.jsxs(W,{scope:e,state:h,disabled:d,children:[n.jsx(w.button,{type:"button",role:"checkbox","aria-checked":l(h)?"mixed":h,"aria-required":f,"data-state":T(h),"data-disabled":d?"":void 0,disabled:d,value:p,...y,ref:P,onKeyDown:N(t.onKeyDown,a=>{a.key==="Enter"&&a.preventDefault()}),onClick:N(t.onClick,a=>{R(b=>l(b)?!0:!b),k&&(m.current=a.isPropagationStopped(),m.current||a.stopPropagation())})}),k&&n.jsx(D,{control:s,bubbles:!m.current,name:i,value:p,checked:h,required:f,disabled:d,form:C,style:{transform:"translateX(-100%)"},defaultChecked:l(r)?!1:r})]})});_.displayName=v;var S="CheckboxIndicator",B=c.forwardRef((t,o)=>{const{__scopeCheckbox:e,forceMount:i,...u}=t,r=$(S,e);return n.jsx(F,{present:i||l(r.state)||r.state===!0,children:n.jsx(w.span,{"data-state":T(r.state),"data-disabled":r.disabled?"":void 0,...u,ref:o,style:{pointerEvents:"none",...t.style}})})});B.displayName=S;var G="CheckboxBubbleInput",D=c.forwardRef(({__scopeCheckbox:t,control:o,checked:e,bubbles:i=!0,defaultChecked:u,...r},f)=>{const d=c.useRef(null),p=I(d,f),x=K(e),C=z(o);c.useEffect(()=>{const s=d.current;if(!s)return;const E=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(E,"checked").set;if(x!==e&&m){const k=new Event("click",{bubbles:i});s.indeterminate=l(e),m.call(s,l(e)?!1:e),s.dispatchEvent(k)}},[x,e,i]);const y=c.useRef(l(e)?!1:e);return n.jsx(w.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??y.current,...r,tabIndex:-1,ref:p,style:{...r.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});D.displayName=G;function l(t){return t==="indeterminate"}function T(t){return l(t)?"indeterminate":t?"checked":"unchecked"}var q=_,J=B;const A=c.forwardRef(({className:t,label:o,id:e,"aria-label":i,isChecked:u=!1,isDisabled:r=!1,...f},d)=>{const p=L({isDisabled:r});if(!o&&!i)throw new Error("Checkbox must have either a label prop or an aria-label attribute");if(o&&i)throw new Error("Checkbox must have either a label prop or an aria-label attribute, but not both");return n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(q,{ref:d,id:e,className:j(g.focusRingVisible,g.focusRingVisibleSm,"peer h-5 w-5 shrink-0 rounded-sm border-2 border-gray-500 ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:border-primary-400 data-[state=checked]:bg-primary-400 data-[state=checked]:text-white",t),checked:u,"aria-label":i,...f,...p,children:n.jsx(J,{className:j("flex items-center justify-center text-current"),children:n.jsx(U,{className:"h-4 w-4",strokeWidth:3})})}),o?typeof o=="string"?n.jsx(O,{htmlFor:e,children:o}):o:null]})});A.displayName=q.displayName;A.__docgenInfo={description:"",methods:[],props:{label:{required:!1,tsType:{name:"ReactNode"},description:""},isChecked:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isDisabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["Omit"]};export{A as C};
