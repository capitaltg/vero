import{j as a}from"./jsx-runtime-BO8uF4Og.js";import{u as q}from"./useAriaDisabled-DHTVgRPt.js";import{s as M}from"./styles-hHSuIYOZ.js";import{c as y}from"./utils-l21BANrb.js";import{r as i}from"./index-D4H_InIO.js";import{u as A,c as H,a as D}from"./index-DwviEg3j.js";import{u as C}from"./index-D8GmRN1t.js";import{u as O}from"./index-DXU_LAI1.js";import{u as U}from"./index-C6Lf2F3X.js";import{P as g}from"./index-C1hSi-0V.js";import{L as V}from"./Label-CjB5ZDVY.js";var b="Switch",[z,se]=H(b),[F,L]=z(b),P=i.forwardRef((o,e)=>{const{__scopeSwitch:t,name:r,checked:s,defaultChecked:u,required:c,disabled:n,value:d="on",onCheckedChange:w,form:l,...v}=o,[p,f]=i.useState(null),S=C(e,h=>f(h)),x=i.useRef(!1),k=p?l||!!p.closest("form"):!0,[m,B]=A({prop:s,defaultProp:u??!1,onChange:w,caller:b});return a.jsxs(F,{scope:t,checked:m,disabled:n,children:[a.jsx(g.button,{type:"button",role:"switch","aria-checked":m,"aria-required":c,"data-state":j(m),"data-disabled":n?"":void 0,disabled:n,value:d,...v,ref:S,onClick:D(o.onClick,h=>{B(I=>!I),k&&(x.current=h.isPropagationStopped(),x.current||h.stopPropagation())})}),k&&a.jsx(N,{control:p,bubbles:!x.current,name:r,value:d,checked:m,required:c,disabled:n,form:l,style:{transform:"translateX(-100%)"}})]})});P.displayName=b;var E="SwitchThumb",R=i.forwardRef((o,e)=>{const{__scopeSwitch:t,...r}=o,s=L(E,t);return a.jsx(g.span,{"data-state":j(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});R.displayName=E;var W="SwitchBubbleInput",N=i.forwardRef(({__scopeSwitch:o,control:e,checked:t,bubbles:r=!0,...s},u)=>{const c=i.useRef(null),n=C(c,u),d=O(t),w=U(e);return i.useEffect(()=>{const l=c.current;if(!l)return;const v=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(v,"checked").set;if(d!==t&&f){const S=new Event("click",{bubbles:r});f.call(l,t),l.dispatchEvent(S)}},[d,t,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...s,tabIndex:-1,ref:n,style:{...s.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});N.displayName=W;function j(o){return o?"checked":"unchecked"}var _=P,X=R;const T=i.forwardRef(({className:o,label:e,id:t,"aria-label":r,isChecked:s=!1,isDisabled:u=!1,...c},n)=>{const d=q({isDisabled:u});if(!e&&!r)throw new Error("Switch must have either a label prop or an aria-label attribute");if(e&&r)throw new Error("Switch must have either a label prop or an aria-label attribute, but not both");return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(_,{className:y(M.focusRingVisible,"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary-400 data-[state=unchecked]:bg-muted",o),checked:s,"aria-label":r,...c,...d,ref:n,id:t,children:a.jsx(X,{className:y("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}),e?typeof e=="string"?a.jsx(V,{htmlFor:t,children:e}):e:null]})});T.displayName=_.displayName;T.__docgenInfo={description:"",methods:[],props:{label:{required:!1,tsType:{name:"ReactNode"},description:""},isChecked:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isDisabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["Omit"]};export{T as S};
